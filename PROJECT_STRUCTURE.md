# HR ç®¡ç†ç³»ç»Ÿé¡¹ç›®ç»“æ„è¯´æ˜

## å®Œæ•´ç›®å½•æ ‘

```
hr-system/
â”‚
â”œâ”€â”€ README.md                          # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md                      # å¿«é€Ÿå¯åŠ¨æŒ‡å—
â”œâ”€â”€ CHANGELOG.md                       # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ LICENSE                            # å¼€æºåè®®
â”œâ”€â”€ .gitignore                         # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ deploy.sh                          # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ start-dev.sh                       # å¼€å‘å¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ backend/                           # åç«¯é¡¹ç›®ï¼ˆSpring Bootï¼‰
â”‚   â”œâ”€â”€ pom.xml                        # Maven ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ README.md                      # åç«¯æ–‡æ¡£
â”‚   â”‚
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main/
â”‚       â”‚   â”œâ”€â”€ java/com/hr/
â”‚       â”‚   â”‚   â”œâ”€â”€ HrApplication.java           # ä¸»å¯åŠ¨ç±»
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ common/                      # é€šç”¨ç±»
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ R.java                   # ç»Ÿä¸€å“åº”å¯¹è±¡
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ config/                      # é…ç½®ç±»
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ MyBatisConfig.java       # MyBatis é…ç½®
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java      # Spring Security é…ç½®
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ WebMvcConfig.java        # Web MVC é…ç½®
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ controller/                  # æ§åˆ¶å™¨å±‚
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java      # è®¤è¯æ¥å£
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeController.java  # å‘˜å·¥ç®¡ç†
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryController.java    # å·¥èµ„ç®¡ç†
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ StatisticsController.java# ç»Ÿè®¡æŠ¥è¡¨
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ dto/                         # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeQuery.java       # å‘˜å·¥æŸ¥è¯¢ DTO
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeVO.java          # å‘˜å·¥è§†å›¾å¯¹è±¡
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ LoginRequest.java        # ç™»å½•è¯·æ±‚
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ LoginResponse.java       # ç™»å½•å“åº”
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryDetailVO.java      # å·¥èµ„æ˜ç»† VO
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryRecordRequest.java # å·¥èµ„è®°å½•è¯·æ±‚
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ StatisticsVO.java        # ç»Ÿè®¡æ•°æ® VO
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ entity/                      # å®ä½“ç±»
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Employee.java            # å‘˜å·¥å®ä½“
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Role.java                # è§’è‰²å®ä½“
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryDetail.java        # å·¥èµ„æ˜ç»†å®ä½“
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryItem.java          # å·¥èµ„é¡¹å®ä½“
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryRecord.java        # å·¥èµ„è®°å½•å®ä½“
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ User.java                # ç”¨æˆ·å®ä½“
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ exception/                   # å¼‚å¸¸å¤„ç†
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ BusinessException.java   # ä¸šåŠ¡å¼‚å¸¸
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ GlobalExceptionHandler.java # å…¨å±€å¼‚å¸¸å¤„ç†å™¨
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ filter/                      # è¿‡æ»¤å™¨
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ JwtFilter.java           # JWT éªŒè¯è¿‡æ»¤å™¨
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ mapper/                      # MyBatis Mapperï¼ˆå…¨æ³¨è§£ï¼‰
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeMapper.java      # å‘˜å·¥ Mapper
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ RoleMapper.java          # è§’è‰² Mapper
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryMapper.java        # å·¥èµ„ Mapper
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ UserMapper.java          # ç”¨æˆ· Mapper
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ service/                     # æœåŠ¡å±‚
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AuthService.java         # è®¤è¯æœåŠ¡
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeService.java     # å‘˜å·¥æœåŠ¡
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SalaryService.java       # å·¥èµ„æœåŠ¡
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ StatisticsService.java   # ç»Ÿè®¡æœåŠ¡
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â””â”€â”€ util/                        # å·¥å…·ç±»
â”‚       â”‚   â”‚       â”œâ”€â”€ ExcelExportUtil.java     # Excel å¯¼å‡ºå·¥å…·
â”‚       â”‚   â”‚       â”œâ”€â”€ JwtUtil.java             # JWT å·¥å…·
â”‚       â”‚   â”‚       â””â”€â”€ PdfUtil.java             # PDF ç”Ÿæˆå·¥å…·
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ resources/
â”‚       â”‚       â”œâ”€â”€ application.yml              # ä¸»é…ç½®æ–‡ä»¶
â”‚       â”‚       â”œâ”€â”€ application-dev.yml          # å¼€å‘ç¯å¢ƒé…ç½®
â”‚       â”‚       â”œâ”€â”€ application-prod.yml         # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”‚       â”‚       â””â”€â”€ db/
â”‚       â”‚           â””â”€â”€ init.sql                 # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚       â”‚
â”‚       â””â”€â”€ test/
â”‚           â””â”€â”€ java/com/hr/
â”‚               â””â”€â”€ HrApplicationTests.java      # æµ‹è¯•ç±»
â”‚
â””â”€â”€ frontend/                          # å‰ç«¯é¡¹ç›®ï¼ˆReact + Ant Design Proï¼‰
    â”œâ”€â”€ package.json                   # ä¾èµ–é…ç½®
    â”œâ”€â”€ tsconfig.json                  # TypeScript é…ç½®
    â”œâ”€â”€ .umirc.ts                      # UmiJS é…ç½®ï¼ˆè·¯ç”±ã€ä»£ç†ç­‰ï¼‰
    â”œâ”€â”€ .eslintrc.js                   # ESLint é…ç½®
    â”œâ”€â”€ .gitignore                     # Git å¿½ç•¥é…ç½®
    â”œâ”€â”€ typings.d.ts                   # ç±»å‹å£°æ˜
    â”œâ”€â”€ README.md                      # å‰ç«¯æ–‡æ¡£
    â”‚
    â””â”€â”€ src/
        â”œâ”€â”€ access.ts                  # æƒé™é…ç½®
        â”œâ”€â”€ app.tsx                    # å…¨å±€é…ç½®
        â”‚
        â”œâ”€â”€ pages/                     # é¡µé¢ç»„ä»¶
        â”‚   â”œâ”€â”€ Login/                 # ç™»å½•é¡µ
        â”‚   â”‚   â”œâ”€â”€ index.tsx
        â”‚   â”‚   â””â”€â”€ index.less
        â”‚   â”‚
        â”‚   â”œâ”€â”€ Employee/              # å‘˜å·¥ç®¡ç†
        â”‚   â”‚   â”œâ”€â”€ index.tsx          # å‘˜å·¥åˆ—è¡¨é¡µ
        â”‚   â”‚   â””â”€â”€ components/
        â”‚   â”‚       â””â”€â”€ EmployeeModal.tsx  # å‘˜å·¥ç¼–è¾‘å¼¹çª—
        â”‚   â”‚
        â”‚   â”œâ”€â”€ Salary/                # å·¥èµ„ç®¡ç†
        â”‚   â”‚   â”œâ”€â”€ MySalary.tsx       # æˆ‘çš„å·¥èµ„æ¡
        â”‚   â”‚   â””â”€â”€ Manage.tsx         # å·¥èµ„ç®¡ç†ï¼ˆHRï¼‰
        â”‚   â”‚
        â”‚   â””â”€â”€ Statistics/            # ç»Ÿè®¡æŠ¥è¡¨
        â”‚       â””â”€â”€ index.tsx          # ç»Ÿè®¡å›¾è¡¨é¡µ
        â”‚
        â””â”€â”€ services/                  # API æœåŠ¡å±‚
            â”œâ”€â”€ api.ts                 # API æ¥å£å®šä¹‰
            â””â”€â”€ typings.d.ts           # ç±»å‹å®šä¹‰
```

## æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### åç«¯æ ¸å¿ƒæ–‡ä»¶

#### é…ç½®å±‚
- **SecurityConfig.java** - Spring Security 6 æ— çŠ¶æ€é…ç½®ï¼ŒJWT è®¤è¯
- **JwtFilter.java** - JWT ä»¤ç‰ŒéªŒè¯è¿‡æ»¤å™¨
- **MyBatisConfig.java** - MyBatis + PageHelper é…ç½®

#### å®ä½“å±‚
- **Employee.java** - å‘˜å·¥å®ä½“ï¼ˆåŒ…å«åŸºæœ¬ä¿¡æ¯ã€å­¦å†ã€å©šå§»ã€å²—ä½ã€çŠ¶æ€ï¼‰
- **User.java** - ç”¨æˆ·å®ä½“
- **SalaryRecord.java** - å·¥èµ„è®°å½•å®ä½“

#### Mapper å±‚ï¼ˆå…¨æ³¨è§£ï¼‰
- ä½¿ç”¨ `@Select`ã€`@Insert`ã€`@Update`ã€`@Delete` æ³¨è§£
- ä½¿ç”¨ `@SelectProvider` å®ç°åŠ¨æ€ SQL
- æ—  XML é…ç½®æ–‡ä»¶

#### æœåŠ¡å±‚
- **AuthService** - å¤„ç†ç™»å½•ã€åˆ·æ–°ä»¤ç‰Œ
- **EmployeeService** - å‘˜å·¥ CRUDã€çŠ¶æ€å˜æ›´ã€ç»Ÿè®¡
- **SalaryService** - å·¥èµ„å½•å…¥ã€æŸ¥è¯¢ã€å¯¼å‡º

#### å·¥å…·ç±»
- **JwtUtil** - JWT ç”Ÿæˆã€éªŒè¯ã€è§£æ
- **ExcelExportUtil** - EasyExcel æµå¼å¯¼å‡º
- **PdfUtil** - Apache PDFBox ç”Ÿæˆ PDF

### å‰ç«¯æ ¸å¿ƒæ–‡ä»¶

#### é…ç½®æ–‡ä»¶
- **.umirc.ts** - è·¯ç”±ã€ä»£ç†ã€æ’ä»¶é…ç½®
- **access.ts** - æƒé™å®ˆå«é…ç½®
- **app.tsx** - å…¨å±€åˆå§‹åŒ–ã€è¯·æ±‚æ‹¦æˆª

#### é¡µé¢ç»„ä»¶
- **Login/index.tsx** - ç™»å½•è¡¨å•ï¼ŒJWT token å­˜å‚¨
- **Employee/index.tsx** - ProTable è¡¨æ ¼ï¼ŒCRUD æ“ä½œ
- **Salary/MySalary.tsx** - å‘˜å·¥æŸ¥çœ‹å·¥èµ„æ¡
- **Statistics/index.tsx** - ECharts å›¾è¡¨å±•ç¤º

#### API æœåŠ¡
- **api.ts** - å°è£…æ‰€æœ‰åç«¯æ¥å£è°ƒç”¨
- **typings.d.ts** - TypeScript ç±»å‹å®šä¹‰

## æ•°æ®æµå‘

```
ç”¨æˆ·æ“ä½œ â†’ å‰ç«¯é¡µé¢ç»„ä»¶ â†’ API æœåŠ¡å±‚ â†’ åç«¯ Controller
                                            â†“
                                        Service å±‚
                                            â†“
                                        Mapper å±‚
                                            â†“
                                        MySQL æ•°æ®åº“
```

## æƒé™æ§åˆ¶æµç¨‹

```
ç”¨æˆ·ç™»å½• â†’ åç«¯éªŒè¯ â†’ ç”Ÿæˆ JWTï¼ˆåŒ…å«è§’è‰²ä¿¡æ¯ï¼‰
                          â†“
        å‰ç«¯å­˜å‚¨ token â†’ æ¯æ¬¡è¯·æ±‚æºå¸¦ token
                          â†“
        åç«¯ JwtFilter éªŒè¯ â†’ æå–è§’è‰²ä¿¡æ¯
                          â†“
        Controller @PreAuthorize é‰´æƒ â†’ æ‰§è¡Œä¸šåŠ¡é€»è¾‘
```

## æŠ€æœ¯æ ˆæ˜ å°„

| åŠŸèƒ½ | åç«¯æŠ€æœ¯ | å‰ç«¯æŠ€æœ¯ |
|------|---------|---------|
| è®¤è¯æˆæƒ | Spring Security + JWT | Axios æ‹¦æˆªå™¨ |
| æ•°æ®æŒä¹…åŒ– | MyBatisï¼ˆæ³¨è§£ï¼‰ | - |
| åˆ†é¡µæŸ¥è¯¢ | PageHelper | ProTable |
| Excel å¯¼å‡º | EasyExcel | æµè§ˆå™¨ä¸‹è½½ |
| PDF ç”Ÿæˆ | Apache PDFBox | æµè§ˆå™¨ä¸‹è½½ |
| å›¾è¡¨å±•ç¤º | - | ECharts |
| API æ–‡æ¡£ | SpringDoc (Swagger) | - |
| æƒé™æ§åˆ¶ | @PreAuthorize | access.ts |

## æ‰©å±•å»ºè®®

### åŠŸèƒ½æ‰©å±•
- ğŸ“§ é‚®ä»¶é€šçŸ¥ï¼ˆå·¥èµ„æ¡å‘é€ï¼‰
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…
- ğŸ“… è€ƒå‹¤ç®¡ç†æ¨¡å—
- ğŸ“ åŸ¹è®­ç®¡ç†æ¨¡å—
- ğŸ“ ç»©æ•ˆè€ƒæ ¸æ¨¡å—

### æŠ€æœ¯ä¼˜åŒ–
- ğŸ”„ Redis ç¼“å­˜
- ğŸ“Š åˆ†å¸ƒå¼è·Ÿè¸ªï¼ˆSleuthï¼‰
- ğŸ” æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼ˆæŒ‰é’®çº§ï¼‰
- ğŸ“¦ Docker å®¹å™¨åŒ–éƒ¨ç½²
- â˜ï¸ äº‘å¹³å°éƒ¨ç½²ï¼ˆé˜¿é‡Œäº‘/AWSï¼‰

---

**ç»´æŠ¤å»ºè®®ï¼š** ä¿æŒå‰åç«¯ä»£ç é£æ ¼ä¸€è‡´ï¼Œå®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬ï¼ŒåŠæ—¶å¤„ç†å®‰å…¨æ¼æ´ã€‚

